% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_evaluation_ckd.R
\name{threshold_optimization_ckd}
\alias{threshold_optimization_ckd}
\title{Optimize Classification Threshold via F1 on PR Curve}
\usage{
threshold_optimization_ckd(df, prob_test, curves)
}
\arguments{
\item{df}{A data.frame. Provide cleaned testing data with column
\code{classification}.}

\item{prob_test}{A data.frame. Provide two probability columns
\code{notckd} and \code{ckd}.}

\item{curves}{A \code{precrec} object. Provide PR curve used to locate
the max-F1 point.}
}
\value{
A list. With following elements:
\itemize{
\item info  A data.frame. Provide the selected cutoff and its
precision/recall/FPR.
\item value A numeric number. Provide the recommended threshold in (0, 1).
}
}
\description{
This function scans candidate thresholds, compute precision/recall/FPR,
identify the PR point with maximum F1-score, and return the recommended
cutoff together with its metric summary.
}
\examples{
\dontrun{
# just an example, this function is not exported by design.
pr  <- predict_ckd(test_df, svm_fit)
cv  <- curves_ckd(test_df, pr)
th  <- threshold_optimization_ckd(test_df, pr, cv)
th$value; th$info
}

}
\seealso{
\code{model_evaluation_ckd()}

Other ckd-evaluation-helpers-internal: 
\code{\link{curves_ckd}()},
\code{\link{metrics_ckd}()}
}
\concept{ckd-evaluation-helpers-internal}
\keyword{internal}
