% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_interpretation_ckd.R
\name{calculate_shap_ckd}
\alias{calculate_shap_ckd}
\title{calculate SHAP Contributions for Models}
\usage{
calculate_shap_ckd(train_df, test_df, model)
}
\arguments{
\item{train_df}{A data.frame. Provide cleaned training data returned by
\code{data_process_bio215()}.}

\item{test_df}{A data.frame. Provide cleaned testing data for which to
compute SHAP values.}

\item{model}{A list. Contain a fitted model from \code{model_train_bio215()}
with fields "model" and "model_type"
in "rf_fit"/"glm_fit"/"svm_fit".}
}
\value{
A \code{shapviz} object. Represent per-feature contributions (S) and the
corresponding feature matrix (X) with human-readable labels applied.
}
\description{
This function computes SHAP-like explanations for BIO215 classifiers. For
random forest, use H2O's Tree SHAP via \code{h2o.predict_contributions}; for
ridge-logistic (glmnet) and SVM (e1071), use \code{fastshap::explain} with a
probability \code{pred_wrapper}. Map raw feature names to pretty clinical labels
and return a \code{shapviz} object for downstream plotting.
}
\examples{
\dontrun{
# just an example, this function is not exported by design.
sv <- calculate_shap_bio215(train_df = train_df,
                           test_df  = test_df,
                           model    = rf_fit)
shapviz::sv_importance(sv, kind = "beeswarm", show_numbers = TRUE)
}

}
\seealso{
\code{model_interpretation_shap_ckd()}

Other ckd-prediction-helpers-internal: 
\code{\link{col_process_ckd}()},
\code{\link{common_process_ckd}()},
\code{\link{data_split_ckd}()},
\code{\link{row_process_ckd}()}
}
\concept{ckd-prediction-helpers-internal}
\keyword{internal}
